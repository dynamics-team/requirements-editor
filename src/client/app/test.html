<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!-- Include CSS library dependencies -->
    <link type="text/css" rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="./styles/requirements-editor.css">
    <title></title>
</head>
<body>

<div ui-view></div>

<!-- Include library dependencies -->
<script src="../lib/angular/angular.min.js"></script>
<script src="../lib/jquery/dist/jquery.min.js"></script>
<script src="../lib/angular-ui-router/release/angular-ui-router.min.js"></script>
<script src="../lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../lib/angular-bootstrap/ui-bootstrap-tpls.js"></script>

<!-- Include application -->
<script src="requirements-editor.js"></script>
<script src="requirements-editor-templates.js"></script>

<!-- Start the main application -->
<script type="text/javascript">
   angular.module('RequirementsApp').service('RequirementsService', function ($q) {
       this.listAll = function () {
           var deferred = $q.defer();
           deferred.resolve([{ title: 'req1' }, { title: 'req2'}, { title: 'req3'}, { title: 'req4'}]);
           return deferred.promise;
       };

       this.getByName = function (name) {
           var deferred = $q.defer();
           deferred.resolve({
               title: name,
               _id: "5432d9c75112f1e401066423",
               __v: 0,
               children: [ {
                   "name": "Movement",
                   "weightNeg": 1,
                   "description": "Performance of the Vehicle Movement",
                   "weightPos": 1,
                   "Priority": 1,
                   "children": [ {
                       "weightNeg": 1,
                       "name": "Speed",
                       "description": "Speed and Accelerations",
                       "weightPos": 1,
                       "Priority": 1,
                       "children": [{
                           "KPP": true,
                           "function": "f(x)",
                           "weightNeg": 0.5,
                           "name": "Acc20kph Full Throttle",
                           "weightPos": 0.555556,
                           "description": "Time to reach 20kph on flat ground.",
                           "Priority": 1,
                           "objective": 11,
                           "testBench": "FullSpeedForward",
                           "threshold": 13,
                           "unit": "s",
                           "metricName": "Acc20kph"
                       },
                       {
                           "KPP": true,
                           "function": "g(x)",
                           "weightNeg": 0.7,
                           "name": "Acc40kph Full Throttle",
                           "weightPos": 0.3,
                           "description": "Time to reach 40kph on flat ground.",
                           "Priority": 1,
                           "objective": 17,
                           "testBench": "FullSpeedForward",
                           "threshold": 25,
                           "unit": "s",
                           "metricName": "Acc40kph"
                       }]
                   }]
               }]
           });
           return deferred.promise;
       };

       this.generateGuid = function () {
           var s4 = function () {
               return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
           };
           return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
       };
   });
   angular.bootstrap(document, ['RequirementsApp']);
</script>

</body>
</html>